\documentclass[]{article}
\usepackage[margin = 1.5in]{geometry}
\setlength{\parindent}{0in}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{hyperref}
\usepackage{wasysym}
\usepackage[T1]{fontenc}
\usepackage{ae,aecompl}

\newtheorem{proposition}{Proposition}[section]

\theoremstyle{definition}
\newtheorem{problem}{Problem}[section]
\newtheorem{defn}{Definition}[section]
\newtheorem{ex}{Example}[section]

\newcommand{\union}{\cup}
\newcommand{\intersection}{\cap}

\setlength{\marginparwidth}{1.5in}
\newcommand{\lecture}[1]{\marginpar{{\footnotesize $\leftarrow$ \underline{#1}}}}

\begin{document}

	\title{\bf{MATH 239: Introduction to Combinatorics}}
	\date{Winter 2013, University of Waterloo \\ \center Notes written from Bertrand Guenin's lectures.}
	\author{Chris Thomson}
	\maketitle
	\newpage
	
	\section{Introduction, Permutations, and Combinations} \lecture{January 7, 2013}
		\subsection{Course Structure}
			The grading scheme is 50\% final, 30\% midterm, 10\% quizzes, and 10\% assignments. There are ten quizzes and ten assignments. The quizzes will not be announced in advance, and each quiz consists of a single clicker question. Assignments are typically due on Friday mornings at 10 am. in the dropboxes outside of MC 4066. The midterm exam is scheduled for March 7, 2013, from 4:30 pm - 6:20 pm. There is no textbook for the course, but there are course notes available at Media.doc in MC, and they're \emph{highly} recommended.
			\\ \\
			MATH 239 is split into two parts: counting (weeks 1-5) and graph theory (weeks 6-12).
			\\ \\
			See the course syllabus for more information -- it's available on \href{https://learn.uwaterloo.ca/}{Waterloo LEARN}.

		\subsection{Sample Counting Problems}
			\begin{problem}
				How many ways are there to cut a string of length 5 into parts of sizes 1 and 2?
			\end{problem}
		
			Here are a few example cuts:
			\\ \\
			\begin{tabular}{|c|c|c|c|c|}
				\hline
				1 & 2 & 3 & 4 & 5 \\
				\hline
			\end{tabular}
			5 cuts: size 1, size 1, size 1, size 1, size 1.

			\begin{tabular}{|c|c|c|c|c|}
				\hline
				1 & 1 & 2 & 2 & 3 \\
				\hline
			\end{tabular}
			3 cuts: size 2, size 2, size 1.
		
			\begin{tabular}{|c|c|c|c|c|}
				\hline
				1 & 2 & 2 & 3 & 3 \\
				\hline
			\end{tabular}
			3 cuts: size 1, size 2, size 2.
			\\ \\
			This is a finite problem. You could count all of the possibilities manually in this case. However, this problem could be made more complicated to a point where manually counting all possibilities would become quite cumbersome, as is the case in the next problem.
		
			\begin{problem}[Cuts]
				How many ways are there to cut a string of size 372,694 into parts of sizes 3, 17, 24, and 96?
			\end{problem}
		
			\begin{defn}
				A positive integer $n$ has a \textbf{composition} $(m_1, m_2, \ldots, m_k)$, where $m_1, \ldots, m_k$ are positive integers and where $n = m_1 + m_2 + \ldots + m_k$. $m_1, \ldots, m_k$ are the \textbf{parts} of the composition.
			\end{defn}
		
			Problem 1 could be rephrased as looking for the number of compositions of 5 where all parts are 1 or 2.
		
			\begin{problem}
				How many compositions of $n$ exist such that all parts are odd?
			\end{problem}
		
			\begin{problem}[Binary Strings]
				Let $S = a_1, a_2, \ldots, a_n$ where $a_i \in \{0, 1\}$. How many strings $S$ exist?
			\end{problem}
		
			For each $a_i$, there is the choice between $0$ or $1$, and that choice is independent for each character of the string (for each $a_i$). So, there are $2^n$ binary strings of length $n$.
		
			\begin{problem}
				How many binary strings of size $n$ exist that do not include the substring $1100$?
			\end{problem}
		
			For example: $1010\underline{1100}101 \not \in S$.
		
			\begin{problem}
				How many binary strings of size $n$ exist such that there is no odd-length sequences of zeroes? 
			\end{problem}
		
			For example: $1001001\underline{000}11 \not \in S$.
		
			\begin{problem}[Recurrences]
				How many times does a recursive function get called for a particular input $n$?
			\end{problem}
		
		\subsection{Sample Graph Theory Problems}
			\begin{problem}
				For any arbitrary map of regions, color the regions such that no two touching boundaries do not have the same color, with the least number of colors possible.
			\end{problem}
		
			The \textbf{four-color theorem} (proven later in the course) states that you can always do this with four colors. It's also always possible to color these regions with five colors. It's \emph{sometimes} possible to color the regions with three or fewer colors, depending on the layout of the regions and their boundaries.
		
		\subsection{Permutations and Combinations}
			\subsubsection{Set Notation}
				The usual set and sequence notation is used in this course. $(1, 2, 3)$ is a sequence (where order matters), and $\{1, 2, 3\}$ is a set (where order does not matter).
				\\ \\
				We will also be using one piece of notation you may not be familiar with: $[n] := \{1, 2, \ldots, n\}$.

			\subsubsection{Permutations}
				\begin{defn}
					A \textbf{permutation} of $[n]$ is a rearrangement of the elements of $[n]$. The number of permutations of a set of $n$ objects is $n \times (n - 1) \times \ldots \times 1 = n!$. 
				\end{defn}
			
				For example: the number of permutations of $6$ objects is $6 \times 5 \times 4 \times 3 \times 2 \times 1 = 6!$ permutations.
				\\ \\
				Why is this the case? Simple: there are $n$ choices for the first position, $(n - 1)$ choices for the second position, $(n - 2)$ choices for the third position, and so on, until there's $1$ choice for the $n$th position.

				\begin{defn}
					A \textbf{$k$-subset} is a subset of size $k$.
				\end{defn}

				\begin{problem}
					How many $k$-subsets of $[n]$ exist?
				\end{problem}

				Let's consider a more specific case: how many 4-subsets of 6 are there? $\frac{6 \times 5 \times 4 \times 3}{4!}$.
				\\ \\
				For simplicity's sake, we will introduce notation for this, which we will refer to as a \textbf{combination}, denoted as 
					${n \choose k} = \frac{n!}{k!(n-k)!}$ where $n, k \in \mathbb{Z} \ge 0$.
				
				\begin{proposition}
					There are ${n \choose k}$ $k$-subsets of $[n]$.
				\end{proposition}
				
				\subsubsection{Application: Binomial Theorem} \lecture{January 9, 2013}
					\begin{align*}
						(1 + x)^n = \sum_{k = 0}^{n} {n \choose k} x^k
					\end{align*}
					
					Why is this true?
					
					\begin{align*}
						(1 + x)^3 = \overbrace{(1 + x)}^1\overbrace{(1 + x)}^2\overbrace{(1 + x)}^3 = 1 + 3x + 3x^2 + x^3 = {3 \choose 0} + {3 \choose 1}x + {3 \choose 2}x^2 + {3 \choose 3}x^3
					\end{align*}
					
					\begin{proof}
						\begin{align*}
							(1 + x)^n = \overbrace{(1 + x)}^1 \overbrace{(1 + x)}^2 \cdots \overbrace{(1 + x)}^n
						\end{align*}
						
						In order to get $x^k$, we need to choose $x$ in $k$ of $\{1, \ldots, n \}$. There are ${n \choose k}$ ways of doing this.
					\end{proof}
		
		\section{Simple Tools for Counting}
			\subsection{Partitioning}
				Sets $S_1, S_2$ partition the set $S$ if $S = S_1 \union S_2$ and $S_1 \intersection S_2 = \emptyset$.
				
				\begin{ex}
					\begin{align*}
						S &= [5] = \begin{cases} 
							S_1 = \{1, 2 \} \\
							S_2 = \{3, 4, 5\}
						\end{cases} \\
						|S| &= |S_1| + |S_2|
					\end{align*}
				\end{ex}
				
				\begin{proposition}
					$\displaystyle 2^n = \sum_{k = 0}^{n} {n \choose k}$
				\end{proposition}
				
				\begin{proof}
					We will discuss two proof methods.
					
					\begin{enumerate}
						\item \textbf{Algebraic proof}. Set $x = 1$ in the Binomial Theorem.
						\item \textbf{Combinatorial proof}. We will count the left-hand side and the right-hand side in different ways to reach the same result.
						
						Let $S$ be the set of subsets of $[n]$. $|S| = 2^n$, since for every element of $[n]$ we have two possibilities: include or don't include the element in $S$.
						
						\underline{Aside}: suppose $n = 2$. Then $S = \{\emptyset, \{1\}, \{2\}, \{1, 2\}\}$. 
						
						Partition $S$ into $S_0, S_1, \ldots, S_n$, where $S_k$ is the set of $k$-subsets of $[n]$.
						
						\begin{align*}
							\underbrace{|S|}_{2^n} = \underbrace{|S_0|}_{{n \choose 0}} + \underbrace{|S_1|}_{n \choose 1} + \cdots + \underbrace{|S_n|}_{n \choose n}
						\end{align*}
					\end{enumerate}
				\end{proof}
				
				\begin{proposition}
					$\displaystyle {n \choose k} = {n - 1 \choose k} + {n - 1 \choose k - 1}$
				\end{proposition}
				
				\begin{proof}
					Let $S$ be the set of $k$-subsets of $[n]$. Then $|S| = {n \choose k}$. Partitioning $S$, let $S_1$ be the subsets of $S$ containing $n$, and let $S_2$ be the subsets of $S$ not containing $n$.
					\\ \\
					It's easy to see that $|S_1| = {n - 1 \choose k - 1}$ ($n$ is already included in our choices) and $|S_2| = {n - 1 \choose k}$. We now have $|S| = |S_1| + |S_2| = {n - 1 \choose k - 1} + {n - 1 \choose k}$.
				\end{proof}
				
			\subsection{Pascal's Triangle}
				Pascal's Triangle is a triangle where each value is determined by the sum of its two direct parents. The uppermost value is 1.
				\\ \\
				\begin{center}
					\begin{tabular}{rccccccccc}
						$n = 0$:&    &    &    &    &  1\\\noalign{\smallskip\smallskip}
						$n = 1$:&    &    &    &  1 &    &  1\\\noalign{\smallskip\smallskip}
						$n = 2$:&    &    &  1 &    &  2 &    &  1\\\noalign{\smallskip\smallskip}
						$n = 3$:&    &  1 &    &  3 &    &  3 &    &  1\\\noalign{\smallskip\smallskip}
						$n = 4$:&  1 &    &  4 &    &  6 &    &  4 &    &  1\\\noalign{\smallskip\smallskip}
					\end{tabular}
				\end{center}
				
				\begin{proposition}
					$\displaystyle {q + r \choose q} = \sum_{i = 0}^{r} {q + i - 1 \choose q - 1}$
				\end{proposition}
				
				For example: let $q = 3, r = 2$. Then we have: $\displaystyle {5 \choose 3} = {2 \choose 2} + {3 \choose 2} + {4 \choose 2}$.
				
				\begin{proof}
					Let $S$ be the set of $q$-subsets of $[q + r]$, so $|S| = {q + r \choose q}$. Partition $S$ such that $S_i$ is the set of $q$-subsets where the largest element is $q + i$ (where $i = 0, \ldots, r$).
					\\ \\
					We have: $|S| = |S_0| + |S_1| + \cdots + |S_r|$. Note that $|S_i| = {q + i - 1 \choose q - 1}$. That gives us:
					
					\begin{align*}
						\underbrace{|S|}_{{q + r \choose q}} = \underbrace{\sum_{i = 0}^{r} |S_i|}_{{q + i - 1 \choose q - 1}}
					\end{align*}
				\end{proof}
		
		\subsection{Injections, Bijections, and Onto} \lecture{January 11, 2013}
			Let's consider a function $f: S \to T$.
			\\ \\
			The function $f$ is an \textbf{injection} if for all $x_1, x_2 \in S, x_1 \ne x_2$ such that $f(x_1) \ne f(x_2)$. That is, no element in the codomain $T$ is the image of more than one element in $S$.
			\\ \\
			The function $f$ is \textbf{onto} (or a \textbf{surjection}) if for all $y \in T$, there exists $x \in S$ such that $f(x) = y$. That is, all elements in the codomain $T$ are the image of an element in $S$. Multiple elements in $S$ can map to the same element in $T$.
			\\ \\
			The function $f$ is a \textbf{bijection} if it is both injective and onto. That is, there is a one-to-one mapping between elements in $S$ and $T$, and vice versa.
			
			\begin{proposition}
				If $S$ and $T$ are finite, $|S| = |T|$ if $f$ is bijective.
			\end{proposition}
			
			\begin{defn}
				$g$ is the inverse of $f$ if:
				\begin{enumerate}
					\item For all $x \in S, g(f(x)) = x$.
					\item For all $y \in T, f(g(y)) = y$.
				\end{enumerate}
			\end{defn}
			
			In order to show that a function has a bijection, find the inverse function.
			
			\subsection{Application: Binomial Coefficients}
				\begin{proposition}
					$\displaystyle {n \choose k} = {n \choose n - k}$
				\end{proposition}
				
				\begin{proof}
					I will prove this proposition in a combinatorial using the bijection technique. We want to show that the cardinalities are the same. 
					\\ \\
					Let $S_1$ be the set of $k$-subsets of $[n]$, so $|S_1| = {n \choose k}$, as shown earlier. Let $S_2$ be the set of $(n-k)$-subsets of $[n]$, so $|S_2| = {n \choose n - k}$. We need to show that $|S_1| = |S_2|$, so we need to show that there is a bijection between $S_1$ and $S_2$, $f: S_1 \to S_2$.
					\\ \\
					\underline{Aside}: suppose $n = 5$ and $k = 2$. Then, the bijection could be $\{1, 3\} \to \{2, 4, 5\}$ (the complement function).
					\\ \\
					The bijective function is $f(A) = [n]\backslash A$ (the complement function). Check: $f$ is its own inverse (let $g = f$).
				\end{proof}
				
	\section{Power Series and Generating Functions}
		\subsection{Power Series}
			\begin{defn}
					Let $(a_0, a_1, \ldots)$ be a sequence of rational numbers. Then:
					\begin{align*}
						A(x) = \sum_{i \ge 0} a_i x^i
					\end{align*}
					
					This is called a \textbf{power series}.
			\end{defn}
			
			\begin{ex}
				$a_i = 2^i \implies A(x) = 1 + 2x + 4x^2 + 8x^3 + \cdots$
			\end{ex}

			If the sequence is finite, it is just a polynomial.
			
			\subsubsection{A General Counting Problem}
				Let $S$ be the the set of objects $\sigma$. Each object $\sigma$ has a weight $w(\sigma)$. We want to know how many objects of $S$ have some weight $k$.
				
				\begin{ex}
					Let $\sigma \subseteq [n], w(\sigma) = |\sigma|$. The question becomes: how many $k$-subsets of $[n]$?
				\end{ex}
				
				\begin{ex}
					Let $\sigma$ be the set of coins (1\cent, 5\cent, 10\cent, 25\cent, \$1, \$2), and let $w(\sigma)$ be the total value of the coins in $\sigma$.
					\\ \\
					The question becomes: how many sets of coins have total value $k$? In other words, how many ways are there to give change on $k$ amount?
				\end{ex}
		\subsection{Generating Functions}
			\begin{defn}
				Given $S$ as the set of objects $\sigma$ and a weight function $w(\sigma)$:
				\begin{align*}
					\phi_S(x) = \sum_{\sigma \in S} x^{w(\sigma)}
				\end{align*}
				
				This is called the \textbf{generating function for S, w}.
			\end{defn}
			
			\begin{ex}
				Let $S = \{ \sigma | \sigma \subseteq \{1, 2, 3\} \}, w(\sigma) = |\sigma|$.
				
				\begin{center}
					\begin{tabular}{c|c|c}
						$\sigma$ & $w(\sigma)$ & $x^{w(\sigma)}$ \\ \hline
						$\emptyset$ & 0 & 1 \\
						\{1\} & 1 & x \\
						\{2\} & 1 & x \\
						\{3\} & 1 & x \\
						\{1, 2\} & 2 & $x^2$ \\
						\{1, 3\} & 2 & $x^2$ \\
						\{2, 3\} & 2 & $x^2$ \\
						\{1, 2, 3\} & 3 & $x^3$ \\
					\end{tabular}
				\end{center}
				
				$\phi_S(x) = 1 + 3x + 3x^2 + x^3 = (1 + x)^3$ is the generating function. Notice the coefficients are the number of objects whose weight is equal to the exponent.
			\end{ex}
			
			\textbf{Remember}: the generating function for $S$ with weights $w$ is $\phi_S(x) = \sum_{k \ge 0} a_k x^k$, where $a_k$ is the number of objects of size $k$ in $S$.
\end{document}